# Common
auth_host: "{{primary_auth_int_fqdn}}"
auth_port: 35357
auth_protocol: http
service_tenant: service
service_user: nova
nova_db_host: "{{primary_db_int_fqdn}}"

# nova.conf
keystone_ec2_url: "http://{{primary_auth_int_fqdn}}:5000/v2.0/ec2tokens"
neutron_url: "http://{{primary_frontend_int_fqdn}}:9696"
neutron_admin_auth_url: "http://{{primary_auth_int_fqdn}}:35357/v2.0"
memcached_servers: loalhost:11211
novncproxy_base_url: "http://{{primary_frontend_ext_fqdn}}:6080/vnc_auto.html"

my_ip: "{{my_int_ip}}"
host: "{{ansible_hostname}}"
internal_service_availability_zone: internal
default_availability_zone: nova
fatal_exception_format_errors: false
use_ipv6: false
notify_api_faults: false
pybasedir: /usr/lib/python2.7/dist-packages
bindir: /usr/bin
state_path: /var/lib/nova
policy_file: policy.json
policy_default_rule: default
quota_instances: 10
quota_cores: 20
quota_ram: 51200
quota_floating_ips: 10
quota_fixed_ips: -1
quota_metadata_items: 128
quota_injected_files: 5
quota_injected_file_content_bytes: 10240
quota_injected_file_path_bytes: 255
quota_security_groups: 10
quota_security_group_rules: 20
quota_key_pairs: 100
reservation_expire: 86400
until_refresh: 0
max_age: 0
quota_driver: nova.quota.DbQuotaDriver
report_interval: 10
periodic_enable: true
periodic_fuzzy_delay: 60
enabled_apis: ec2,osapi_compute,metadata
ec2_listen: 0.0.0.0
ec2_listen_port: 8773
ec2_workers: 
osapi_compute_workers: 
metadata_workers: 
osapi_compute_listen: 0.0.0.0
osapi_compute_listen_port: 8774
metadata_manager: nova.api.manager.MetadataManager
metadata_listen: 0.0.0.0
metadata_listen_port: 8775
compute_manager: nova.compute.manager.ComputeManager
console_manager: nova.console.manager.ConsoleProxyManager
cert_manager: nova.cert.manager.CertManager
network_manager: nova.network.manager.VlanManager
scheduler_manager: nova.scheduler.manager.SchedulerManager
service_down_time: 60
monkey_patch: false
password_length: 12
instance_usage_audit_period: month
rootwrap_config: /etc/nova/rootwrap.conf
tempdir: 
api_paste_config: /etc/nova/api-paste.ini
wsgi_log_format: "%(client_ip)s \"%(request_line)s\" status: %(status_code)s len: %(body_length)s time: %(wall_seconds).7f"
tcp_keepidle: 600
api_rate_limit: false
auth_strategy: keystone
use_forwarded_for: false
lockout_attempts: 5
lockout_minutes: 15
lockout_window: 15
ec2_private_dns_show_ip: false
ec2_strict_validation: true
ec2_timestamp_expiry: 300
ec2_host: $my_ip
ec2_dmz_host: $my_ip
ec2_port: 8773
ec2_scheme: http
ec2_path: /services/Cloud
config_drive_skip_versions: 1.0 2007-01-19 2007-03-01 2007-08-29 2007-10-10 2007-12-15 2008-02-01 2008-09-01
vendordata_driver: nova.api.metadata.vendordata_json.JsonFileVendorData
service_neutron_metadata_proxy: True
neutron_metadata_proxy_shared_secret: "{{metadata_proxy_shared_secret}}"
osapi_max_limit: 1000
allow_instance_snapshots: true
fping_path: /usr/sbin/fping
enable_network_quota: false
use_neutron_default_nets: False
neutron_default_tenant_id: default
osapi_compute_extension: nova.api.openstack.compute.contrib.standard_extensions
osapi_hide_server_address_states: building
enable_instance_password: true
osapi_max_request_body_size: 114688
compute_api_class: nova.compute.api.API
cert_topic: cert
allow_resize_to_same_host: false
allow_migrate_to_same_host: false
default_schedule_zone: 
non_inheritable_image_properties: cache_in_nova,bittorrent
null_kernel: nokernel
multi_instance_display_name_template: "%(name)s-%(uuid)s"
max_local_block_devices: 3
default_flavor: m1.small
console_host: nova
defer_iptables_apply: false
instances_path: $state_path/instances
instance_usage_audit: false
live_migration_retry_count: 30
resume_guests_state_on_host_boot: false
network_allocate_retries: 0
maximum_instance_delete_attempts: 5
bandwidth_poll_interval: 600
sync_power_state_interval: 600
heal_instance_info_cache_interval: 60
host_state_interval: 120
image_cache_manager_interval: 2400
reclaim_instance_interval: 0
volume_usage_poll_interval: 0
shelved_poll_interval: 3600
shelved_offload_time: 0
instance_delete_interval: 300
running_deleted_instance_action: log
running_deleted_instance_poll_interval: 1800
running_deleted_instance_timeout: 0
reboot_timeout: 0
instance_build_timeout: 0
rescue_timeout: 0
resize_confirm_window: 0
reserved_host_disk_mb: 0
reserved_host_memory_mb: 512
compute_stats_class: nova.compute.stats.Stats
compute_topic: compute
migrate_max_retries: -1
stub_compute: false
console_public_hostname: nova
console_topic: console
consoleauth_topic: consoleauth
console_token_ttl: 600
consoleauth_manager: nova.consoleauth.manager.ConsoleAuthManager
enable_new_services: true
instance_name_template: instance-%08x
snapshot_name_template: snapshot-%s
db_driver: nova.db
#glance_host: \\$my_ip
glance_port: 9292
glance_protocol: http
glance_api_servers: $glance_host:$glance_port
glance_api_insecure: false
glance_num_retries: 0
ipv6_backend: rfc2462
network_api_class: nova.network.neutronv2.api.API
network_driver: nova.network.linux_net
default_floating_pool: nova
dhcpbridge_flagfile: /etc/nova/nova-dhcpbridge.conf
networks_path: $state_path/networks
linuxnet_interface_driver: 
linuxnet_ovs_integration_bridge: br-int
send_arp_for_ha: false
send_arp_for_ha_count: 3
use_single_default_gateway: false
forward_bridge_interface: all
metadata_host: $my_ip
metadata_port: 8775
iptables_drop_action: DROP
force_dhcp_release: true
neutron_url_timeout: 30
neutron_admin_username: neutron
neutron_admin_password: "{{neutron_password}}"
neutron_service_tenant: service
neutron_region_name: "{{region}}"
neutron_api_insecure: false
neutron_auth_strategy: keystone
neutron_ovs_bridge: br-int
neutron_extension_sync_interval: 600
dhcp_options_enabled: false
neutron_auth_strategy: keystone
network_topic: network
multi_host: false
security_group_api: neutron
disable_process_locking: false
lock_path: /var/lib/nova
debug: True
verbose: True
use_stderr: True
publish_errors: false
fatal_deprecations: false
instance_format: "[instance: %(uuid)s]"
instance_uuid_format: "[instance: %(uuid)s]"
log_date_format: "%Y-%m-%d %H:%M:%S"
log_dir: /var/log/nova
use_syslog: false
syslog_log_facility: LOG_USER
default_notification_level: INFO
default_publisher_id: 
notification_topics: notifications
run_external_periodic_tasks: true
rpc_backend: nova.openstack.common.rpc.impl_kombu
rpc_thread_pool_size: 64
rpc_conn_pool_size: 30
rpc_response_timeout: 60
rpc_cast_timeout: 30
allowed_rpc_exception_modules: nova.exception,cinder.exception,exceptions
fake_rabbit: false
control_exchange: openstack
amqp_durable_queues: false
amqp_auto_delete: false
rabbit_host: "{{primary_rabbitmq_int_fqdn}}"
rabbit_port: 5672
rabbit_hosts: 
rabbit_use_ssl: false
rabbit_userid: nova
rabbit_password: "{{rabbit_nova_password}}"
rabbit_virtual_host: /nova
rabbit_retry_interval: 1
rabbit_retry_backoff: 2
rabbit_max_retries: 0
rabbit_ha_queues: false
scheduler_host_manager: nova.scheduler.host_manager.HostManager
scheduler_max_attempts: 3
scheduler_host_subset_size: 1
cpu_allocation_ratio: 16.0
disk_allocation_ratio: 1.0
max_io_ops_per_host: 8
restrict_isolated_hosts_to_isolated_images: true
max_instances_per_host: 50
ram_allocation_ratio: 1.5
scheduler_available_filters: nova.scheduler.filters.all_filters
scheduler_default_filters: RetryFilter,RamFilter,ComputeFilter,ImagePropertiesFilter,AvailabilityZoneFilter,AggregateInstanceExtraSpecsFilter
scheduler_weight_classes: nova.scheduler.weights.all_weighers
scheduler_driver: nova.scheduler.filter_scheduler.FilterScheduler
scheduler_topic: scheduler
ram_weight_multiplier: 1.0
servicegroup_driver: db
config_drive_format: iso9660
mkisofs_cmd: genisoimage
injected_network_template: $pybasedir/nova/virt/interfaces.template
resize_fs_using_block_device: false
compute_driver: libvirt.LibvirtDriver
preallocate_images: none
use_cow_images: true
firewall_driver: nova.virt.firewall.NoopFirewallDriver
allow_same_net_traffic: true
force_raw_images: true
libvirt_type: kvm
libvirt_inject_password: True
libvirt_inject_key: true
libvirt_inject_partition: 1
use_usb_tablet: true
live_migration_uri: "qemu+tcp://%s/system"
live_migration_flag: VIR_MIGRATE_UNDEFINE_SOURCE, VIR_MIGRATE_PEER2PEER
block_migration_flag: VIR_MIGRATE_UNDEFINE_SOURCE, VIR_MIGRATE_PEER2PEER, VIR_MIGRATE_NON_SHARED_INC
live_migration_bandwidth: 0
libvirt_vif_driver: nova.virt.libvirt.vif.LibvirtHybridOVSBridgeDriver
libvirt_wait_soft_reboot_seconds: 120
libvirt_nonblocking: true
libvirt_snapshots_directory: $instances_path/snapshots
libvirt_images_type: default
libvirt_sparse_logical_volumes: false
libvirt_lvm_snapshot_size: 1000
base_dir_name: _base
image_info_filename_pattern: $instances_path/$base_dir_name/%(image)s.info
remove_unused_base_images: False
remove_unused_kernels: false
remove_unused_resized_minimum_age_seconds: 3600
remove_unused_original_minimum_age_seconds: 86400
checksum_base_images: false
checksum_interval_seconds: 3600
libvirt_snapshot_compression: false
libvirt_ovs_bridge: br-int
libvirt_use_virtio_for_bridges: true
num_iscsi_scan_tries: 3
num_iser_scan_tries: 3
libvirt_iscsi_use_multipath: false
libvirt_iser_use_multipath: false
vnc_enabled: true
vnc_keymap: ja
volume_api_class: nova.volume.cinder.API
cinder_catalog_info: volume:cinder:internalURL
cinder_http_retries: 3
cinder_api_insecure: false
cinder_cross_az_attach: true
vncserver_listen: 0.0.0.0
vncserver_proxyclient_address: "{{my_int_ip}}"

libvirt_images_rbd_pool: 
libvirt_images_rbd_ceph_conf: 
rbd_user: 
rbd_secret_uuid: 
